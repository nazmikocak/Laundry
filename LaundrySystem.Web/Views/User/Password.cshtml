@model LaundrySystem.Entities.DTOs.ChangePasswordDto

@{
    ViewData["Title"] = "Parola Değiştir";
}

<div class="content-section" style="max-width: 600px; margin: 0 auto;">
    <div class="content-section-header">
        <h3>Parola İşlemleri</h3>
    </div>

    <form id="passwordForm" asp-action="Password" method="post" novalidate>
        @Html.AntiForgeryToken()

        <div class="form-group">
            <label asp-for="CurrentPassword">Mevcut Parola</label>
            <div class="input-wrapper">
                <i class="fa-solid fa-lock icon"></i>
                <input asp-for="CurrentPassword" type="password" class="form-control">
            </div>
            <span asp-validation-for="CurrentPassword" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label asp-for="NewPassword">Yeni Parola</label>
            <div class="input-wrapper">
                <i class="fa-solid fa-key icon"></i>
                <input asp-for="NewPassword" type="password" class="form-control">
            </div>
            <span asp-validation-for="NewPassword" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label asp-for="ConfirmPassword">Yeni Parola Tekrar</label>
            <div class="input-wrapper">
                <i class="fa-solid fa-key icon"></i>
                <input asp-for="ConfirmPassword" type="password" class="form-control">
            </div>
            <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
        </div>

        <hr style="border: none; border-top: 1px solid var(--border-color); margin: 20px 0;">

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Parolayı Değiştir</button>
            <button type="reset" class="btn btn-secondary">Temizle</button>
        </div>
    </form>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }

    @{
        if (ViewData["ErrorMessage"] != null)
        {
            <script type="text/javascript">
                document.addEventListener('DOMContentLoaded', function () {
                    showErrorModal('@ViewData["ErrorMessage"]', '@Html.Raw(ViewData["ErrorDetail"])');
                });
            </script>
        }
    }
}